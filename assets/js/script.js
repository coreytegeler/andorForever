// Generated by CoffeeScript 1.10.0
(function() {
  $(function() {
    var $body, $curtain, $main, $stairs, transEnd;
    transEnd = 'transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd';
    $body = $('body');
    $main = $('main');
    $curtain = $('#curtain');
    $stairs = $('#stairs');
    return $body.on('click', '.stair a', function(e) {
      var $project, projectTop, scrollTop;
      e.preventDefault();
      $project = $(this).parents('.project');
      if ($project.is('.open')) {
        $project.removeClass('open');
        return $stairs.removeClass('open');
      } else {
        $('.project.open').removeClass('open');
        $project.addClass('open');
        $stairs.addClass('open');
        $curtain.css({
          y: $(window).innerHeight()
        });
        projectTop = $project.position().top;
        scrollTop = $stairs.scrollTop();
        return $stairs.scrollTop(scrollTop + projectTop - 31).addClass('noScroll');
      }
    });
  });

}).call(this);
